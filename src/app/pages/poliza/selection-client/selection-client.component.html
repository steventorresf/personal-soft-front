<div class="header-modal">
    <h4>Seleccionar cliente</h4>
    <mat-icon class="close" (click)="close()">close</mat-icon>
</div>
<div class="body-modal">
    <div class="mt-2">
        <form [formGroup]="myForm">
            <div class="m-row">
                <div class="m-col-25">
                    <mat-form-field appearance="outline">
                        <mat-label>Número de identificación</mat-label>
                        <input matInput formControlName="identificacion">
                    </mat-form-field>
                </div>
                <div class="m-col-25">
                    <mat-form-field appearance="outline">
                        <mat-label>Nombre cliente</mat-label>
                        <input matInput formControlName="nombre">
                    </mat-form-field>
                </div>
                <div class="m-col-50">
                    <div class="text-center mt-2">
                        <button type="button" mat-flat-button color="primary" (click)="filtrar()">Filtrar</button>
                        <button type="button" class="ml-2" mat-flat-button (click)="limpiar()">Limpiar</button>
                        <button type="button" class="ml-6" mat-flat-button color="primary" (click)="loadClientes()">Cargar clientes</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    <div class="mt-3">
        <table mat-table [dataSource]="dataSource" matSort (matSortChange)="sortData($event)">
            <ng-container matColumnDef="identificacion">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Identificación</th>
                <td mat-cell *matCellDef="let row" (click)="clientSelection(row)" [class]="rowSel?.id == row.id ? 'rowSel' : ''">
                    {{ row.identificacion }}
                </td>
            </ng-container>
            <ng-container matColumnDef="nombre">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Nombre completo</th>
                <td mat-cell *matCellDef="let row" (click)="clientSelection(row)" [class]="rowSel?.id == row.id ? 'rowSel' : ''">
                    {{ row.nombre }}
                </td>
            </ng-container>
            <ng-container matColumnDef="fechaNacimiento">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha nacimiento</th>
                <td mat-cell *matCellDef="let row" (click)="clientSelection(row)" [class]="rowSel?.id == row.id ? 'rowSel' : ''">
                    {{ row.fechaNacimiento }}
                </td>
            </ng-container>
            <ng-container matColumnDef="ciudad">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Ciudad residencia</th>
                <td mat-cell *matCellDef="let row" (click)="clientSelection(row)" [class]="rowSel?.id == row.id ? 'rowSel' : ''">
                    {{ row.ciudadResidencia }}
                </td>
            </ng-container>
            <ng-container matColumnDef="direccion">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Dirección residencia</th>
                <td mat-cell *matCellDef="let row" (click)="clientSelection(row)" [class]="rowSel?.id == row.id ? 'rowSel' : ''">
                    {{ row.direccionResidencia }}
                </td>
            </ng-container>
            <ng-container matColumnDef="placas">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Automotores</th>
                <td mat-cell *matCellDef="let row" (click)="clientSelection(row)" [class]="rowSel?.id == row.id ? 'rowSel' : ''">
                    {{ row.placas }}
                </td>
            </ng-container>
    
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
            <tr class="mat-row" *matNoDataRow>
                <td class="mat-cell text-center" colspan="8">No hay registros</td>
            </tr>
        </table>
    
        <mat-paginator #paginator showFirstLastButtons [length]="opPag.length" [pageIndex]="opPag.pageIndex"
            [pageSize]="opPag.pageSize" [pageSizeOptions]="opPag.pageSizeOptions" (page)="getDataSource()">
        </mat-paginator>
    </div>
    <div class="text-center mt-3">
        <button type="button" mat-flat-button color="primary" (click)="aceptar()" [disabled]="!rowSel">Aceptar</button>
    </div>
</div>